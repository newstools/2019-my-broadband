Tesla Inc. set a new record for quarterly vehicle deliveries as shipments to Europe and China accelerated and U.S. consumers rushed to buy Model 3 sedans before a federal tax credit shrank in half. The electric-car maker handed over 95,200 vehicles to customers in the three months that ended in June, exceeding the previous best mark of 90,700 reported for the last quarter of 2018. Tesla’s delivery count easily beat analysts’ average estimate for about 87,700 units. Tesla shares surged more than 4% in late trading as of 4:20 p.m. Tuesday in New York. The stock finished down 33% for the year through the close, in part due to demand concerns that Chief Executive Officer Elon Musk has repeatedly dismissed. The CEO pushed employees to “go all out” in the final days of Tesla’s first full quarter in which more affordable Model 3 sedans made their way to buyers in North America, Europe and China. U.S. consumers raced to take advantage of a $3,750 federal tax credit before the incentive dropped to $1,875 as of July 1. Several analysts raised their deliveries estimates as the quarter came to an end, citing brisk sales to key European markets including Norway and the Netherlands, as well as the effect of incentives that Canada began offering in May to stoke purchases of battery-powered cars. Moving more metal won’t solve all of Tesla’s challenges. The company delivered 17,650 Model S sedans and Model X crossovers during the quarter, less than 20% of its total. Investors are concerned the cheaper Model 3 is cannibalizing demand for the higher-margin Model S and X and dragging on profitability. With the U.S. federal tax credit having shrunk for the second half of the year and ending in 2020, Tesla also may have to lean more on overseas markets to buoy sales. That will test the California-based company’s ability to keep shipping and logistics costs contained. The carmaker is building a car and battery assembly plant near Shanghai, and Musk has said he hopes to pick a location for a similar factory in Europe by the end of the year.